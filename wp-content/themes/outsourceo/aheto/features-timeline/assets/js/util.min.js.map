{"version":3,"sources":["aheto/features-timeline/assets/js/util.js"],"names":["Util","hasClass","el","className","classList","contains","match","RegExp","addClass","split","add","length","slice","join","removeClass","remove","replace","reg","toggleClass","bool","setAttributes","attrs","key","setAttribute","getChildrenByClassName","childrenByClass","children","i","push","setHeight","start","to","element","duration","cb","change","currentTime","window","requestAnimationFrame","timestamp","val","parseInt","progress","animateHeight","scrollTo","final","scrollY","document","documentElement","scrollTop","animateScroll","Math","easeInOutQuad","moveFocus","getElementsByTagName","focus","activeElement","getIndexInArray","array","Array","prototype","indexOf","call","cssSupports","property","value","CSS","supports","g","toUpperCase","body","style","Element","matches","jsProperty","msMatchesSelector","webkitMatchesSelector","closest","s","this","parentNode","nodeType","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","parentElement","initCustomEvent","Event","t","d","createEvent","c","b"],"mappings":"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","file":"util.min.js","sourcesContent":["// Utility function\nfunction Util () {};\n\n/* \n\tclass manipulation functions\n*/\nUtil.hasClass = function(el, className) {\n\tif (el.classList) return el.classList.contains(className);\n\telse return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n};\n\nUtil.addClass = function(el, className) {\n\tvar classList = className.split(' ');\n \tif (el.classList) el.classList.add(classList[0]);\n \telse if (!Util.hasClass(el, classList[0])) el.className += \" \" + classList[0];\n \tif (classList.length > 1) Util.addClass(el, classList.slice(1).join(' '));\n};\n\nUtil.removeClass = function(el, className) {\n\tvar classList = className.split(' ');\n\tif (el.classList) el.classList.remove(classList[0]);\t\n\telse if(Util.hasClass(el, classList[0])) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + classList[0] + '(\\\\s|$)');\n\t\tel.className=el.className.replace(reg, ' ');\n\t}\n\tif (classList.length > 1) Util.removeClass(el, classList.slice(1).join(' '));\n};\n\nUtil.toggleClass = function(el, className, bool) {\n\tif(bool) Util.addClass(el, className);\n\telse Util.removeClass(el, className);\n};\n\nUtil.setAttributes = function(el, attrs) {\n  for(var key in attrs) {\n    el.setAttribute(key, attrs[key]);\n  }\n};\n\n/* \n  DOM manipulation\n*/\nUtil.getChildrenByClassName = function(el, className) {\n  var children = el.children,\n    childrenByClass = [];\n  for (var i = 0; i < el.children.length; i++) {\n    if (Util.hasClass(el.children[i], className)) childrenByClass.push(el.children[i]);\n  }\n  return childrenByClass;\n};\n\n/* \n\tAnimate height of an element\n*/\nUtil.setHeight = function(start, to, element, duration, cb) {\n\tvar change = to - start,\n\t    currentTime = null;\n\n  var animateHeight = function(timestamp){  \n    if (!currentTime) currentTime = timestamp;         \n    var progress = timestamp - currentTime;\n    var val = parseInt((progress/duration)*change + start);\n    element.setAttribute(\"style\", \"height:\"+val+\"px;\");\n    if(progress < duration) {\n        window.requestAnimationFrame(animateHeight);\n    } else {\n    \tcb();\n    }\n  };\n  \n  //set the height of the element before starting animation -> fix bug on Safari\n  element.setAttribute(\"style\", \"height:\"+start+\"px;\");\n  window.requestAnimationFrame(animateHeight);\n};\n\n/* \n\tSmooth Scroll\n*/\n\nUtil.scrollTo = function(final, duration, cb) {\n  var start = window.scrollY || document.documentElement.scrollTop,\n      currentTime = null;\n      \n  var animateScroll = function(timestamp){\n  \tif (!currentTime) currentTime = timestamp;        \n    var progress = timestamp - currentTime;\n    if(progress > duration) progress = duration;\n    var val = Math.easeInOutQuad(progress, start, final-start, duration);\n    window.scrollTo(0, val);\n    if(progress < duration) {\n        window.requestAnimationFrame(animateScroll);\n    } else {\n      cb && cb();\n    }\n  };\n\n  window.requestAnimationFrame(animateScroll);\n};\n\n/* \n  Focus utility classes\n*/\n\n//Move focus to an element\nUtil.moveFocus = function (element) {\n  if( !element ) element = document.getElementsByTagName(\"body\")[0];\n  element.focus();\n  if (document.activeElement !== element) {\n    element.setAttribute('tabindex','-1');\n    element.focus();\n  }\n};\n\n/* \n  Misc\n*/\n\nUtil.getIndexInArray = function(array, el) {\n  return Array.prototype.indexOf.call(array, el);\n};\n\nUtil.cssSupports = function(property, value) {\n  if('CSS' in window) {\n    return CSS.supports(property, value);\n  } else {\n    var jsProperty = property.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase();});\n    return jsProperty in document.body.style;\n  }\n};\n\n/* \n\tPolyfills\n*/\n//Closest() method\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nif (!Element.prototype.closest) {\n\tElement.prototype.closest = function(s) {\n\t\tvar el = this;\n\t\tif (!document.documentElement.contains(el)) return null;\n\t\tdo {\n\t\t\tif (el.matches(s)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1); \n\t\treturn null;\n\t};\n}\n\n//Custom Event() constructor\nif ( typeof window.CustomEvent !== \"function\" ) {\n\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent( 'CustomEvent' );\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n    return evt;\n   }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n}\n\n/* \n\tAnimation curves\n*/\nMath.easeInOutQuad = function (t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t + b;\n\tt--;\n\treturn -c/2 * (t*(t-2) - 1) + b;\n};"]}