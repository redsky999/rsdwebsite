(function ($) {

	'use strict';

	function ahetoApiSearch(value = '') {

		// Declare variables
		var input, filter, ul, li, a, i, txtValue;
		input = document.getElementById('aheto-api-input');
		filter = typeof value !== 'string' ? input.value.toUpperCase() : value.toUpperCase();
		ul = document.getElementById("aheto-api-pages");
		li = ul.getElementsByClassName('aheto-api-pages__item');

		// Loop through all list items, and hide those who don't match the search query
		for (i = 0; i < li.length; i++) {
			a = li[i].getElementsByTagName("h6")[0];
			txtValue = a.textContent || a.innerText;
			if (txtValue.toUpperCase().indexOf(filter) > -1) {
				li[i].style.display = "";
			} else {
				li[i].style.display = "none";
			}
		}
		if ($("img[data-lazy-src]").length) {
			$("img[data-lazy-src]").ahetolazy();
		}
	}

	function ahetoApiSelect(e){
		let value = (e.target.value === 'All') ? '' : e.target.value;
		ahetoApiSearch(value);
	}

	document.addEventListener('keyup', ahetoApiSearch);
	$('.aheto-api-pages__btn').on('click', ahetoApiSearch);
	$('.aheto-api-pages-cats__select').on('change', ahetoApiSelect);

}(jQuery));
