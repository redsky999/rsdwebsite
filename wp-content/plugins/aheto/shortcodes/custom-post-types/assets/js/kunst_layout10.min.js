"use strict";!function(t,a,o){if(t(".aheto-cpt--kunst__3d").length){var r=function(){c(Z),q=!0},i=function(){q=!1},s=function(n){return new Promise(function(t,e){if(v&&!n.stopTransition)return!1;if(v=!0,n.transition&&c(n.transition),n.transform){l(n.transform);S(m.scroller,function(){v=!1,t()})}else t()})},e=function(){var t=function(r,a,o){var i;return function(){var t=this,e=arguments,n=o&&!i;clearTimeout(i),i=setTimeout(function(){i=null,o||r.apply(t,e)},a),n&&r.apply(t,e)}}(function(){E={width:a.innerWidth,height:a.innerHeight}},10);o.addEventListener("mousemove",function(r){requestAnimationFrame(function(){if(!q)return!1;var t=function(t){var e=0,n=0;if(!t)t=a.e;return t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+o.body.scrollLeft+o.documentElement.scrollLeft,n=t.clientY+o.body.scrollTop+o.documentElement.scrollTop),{x:e,y:n}}(r),e=x.rotateX?h.rotateX-(2*x.rotateX/E.height*t.y-x.rotateX):0,n=x.rotateY?h.rotateY-(2*x.rotateY/E.width*t.x-x.rotateY):0;l({translateX:h.translateX,translateY:h.translateY,translateZ:h.translateZ,rotateX:e+"deg",rotateY:n+"deg",rotateZ:h.rotateZ})})}),a.addEventListener("resize",t);m.nav.leftCtrl.addEventListener("click",function(){f("prev")}),m.nav.rightCtrl.addEventListener("click",function(){f("next")})},l=function(t){m.scroller.style.transform="translate3d("+t.translateX+", "+t.translateY+", "+t.translateZ+") rotate3d(1,0,0,"+t.rotateX+") rotate3d(0,1,0,"+t.rotateY+") rotate3d(0,0,1,"+t.rotateZ+")"},c=function(t){m.scroller.style.transition="none"===t?t:"transform "+t.speed+" "+t.easing},n=function(n,r){var t=m.slides[g],e=t.querySelector(".slide__name"),a=t.querySelector(".cat"),o=t.querySelector(".slide__title"),i=t.querySelector(".slide__date");r=void 0!==r?r:0,anime.remove([a,e,o,i]);var s={targets:[a,e,o,i],duration:400,delay:function(t,e,n){return r+75+75*e},easing:[.25,.1,.25,1],opacity:{value:"in"===n?[0,1]:[1,0],duration:"in"===n?550:250},translateY:function(t,e){return"in"===n?[150,0]:[0,-150]}};"in"===n?s.begin=function(){t.classList.add("slide--current")}:s.complete=function(){t.classList.remove("slide--current")},anime(s)},u=function(t){n("in",t)},d=function(t){n("out",t)},f=function(t){if(v||y)return!1;y=!0;var e=m.rooms[g];i(),d(),g="next"===t?g<p-1?g+1:0:0<g?g-1:p-1;var n=m.rooms[g];n.style.transform="translate3d("+("next"===t?100:-100)+"%,0,0) translate3d("+("next"===t?1:-1)+"px,0,0)",n.style.opacity=1,s({transition:L,transform:Y}).then(function(){return s({transform:{translateX:("next"===t?-100:100)+"%",translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0}})}).then(function(){return n.classList.add("room--current"),e.classList.remove("room--current"),e.style.opacity=0,u(),s({transform:{translateX:("next"===t?-100:100)+"%",translateY:0,translateZ:"500px",rotateX:0,rotateY:0,rotateZ:0}})}).then(function(){c("none"),n.style.transform="translate3d(0,0,0)",l(h),setTimeout(function(){r()},60),y=!1})},m={};m.loader=o.querySelector(".overlay--loader"),m.scroller=o.querySelector(".container-wrap > .scroller"),m.rooms=[].slice.call(m.scroller.querySelectorAll(".room")),m.content=o.querySelector(".content"),m.nav={leftCtrl:m.content.querySelector("nav > .btn--nav-left"),rightCtrl:m.content.querySelector("nav > .btn--nav-right")},m.slides=[].slice.call(m.content.querySelectorAll(".slides > .slide"));var v,y,g=0,p=m.rooms.length,h={translateX:0,translateY:0,translateZ:"500px",rotateX:0,rotateY:0,rotateZ:0},Y={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0},X={speed:"0.9s",easing:"ease"},L={speed:"0.4s",easing:"ease"},Z={speed:"0.2s",easing:"ease-out"},q=!1,x={rotateX:1,rotateY:-3},S=function(t,n){t.addEventListener("transitionend",function t(e){this.removeEventListener("transitionend",t),n&&"function"==typeof n&&n.call()})},E={width:a.innerWidth,height:a.innerHeight};imagesLoaded(m.scroller,function(){anime({targets:m.loader,duration:600,easing:"easeInOutCubic",delay:1e3,translateY:"-100%",begin:function(){s({transition:X,transform:h}).then(function(){r()}),u(100),e()},complete:function(){m.loader.classList.remove("overlay--active")}})})}}(jQuery,window,document);